{% extends "base_layout.html" %}

{% block page %}
<div class="timeline" data-controller="timeline" data-timeline-total="{{ total }}" data-timeline-offset="{{ posts.count }}" data-timeline-limit="{{ posts.count }}" data-timeline-start-date="{{ start_date_str }}">
  <h1 class="title">Timeline</h1>
  <div class="columns">
    <div class="column is-three-quarters">
      <div id="posts">
        {% block content %}{% endblock %}     
      </div>
      <button class="button is-primary" id="load-more" data-action="timeline#loadMore">Load more</button>
    </div>
    <div class="column is-one-quarter">
      <ul>

        {% comment %} <% @months_by_year.keys.each do |year| %>
          <li>
            <span class="is-size-4 has-text-weight-bold"><%= year %></span>
            <ul>

              <% @months_by_year[year].each do |month| %>
                <li>
                  <a href="<%= timeline_path(start: month.end_of_month.strftime("%Y-%m-%d")) %>">
                    <%= month.strftime("%B") %>
                  </a>
                </li>
              <% end %>
            </ul>
          <% end %> {% endcomment %}
      </ul>
    </div>
  </div>
</div>
{% endblock %}
